<?xml version="1.0" encoding="utf-8"?>
<Project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Connections>
    <Connection>
      <Queries>
        <Query>
          <Name>Totaal - LIDAR Maaiveld</Name>
          <SQL>select  &#xD;
  st_AsText(geom)&#xD;
from &#xD;
  ahn_sample&#xD;
where &#xD;
  classificatie = 2</SQL>
          <FillColor>Yellow</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Totaal - DEM maaiveld</Name>
          <SQL>select  &#xD;
  st_AsText(   (st_dump(ST_DelaunayTriangles(st_collect( geom ), 10))).geom   )&#xD;
from &#xD;
  ahn_sample&#xD;
where &#xD;
  classificatie = 2&#xD;
</SQL>
          <FillColor>Olive</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Totaal - LIDAR Panden</Name>
          <SQL>select  &#xD;
  st_AsText(geom)&#xD;
from &#xD;
  ahn_sample&#xD;
where &#xD;
  classificatie = 6</SQL>
          <FillColor>Fuchsia</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Totaal - LIDAR Groen</Name>
          <SQL>select  &#xD;
  st_AsText(geom)&#xD;
from &#xD;
  ahn_sample&#xD;
where &#xD;
  classificatie = 1</SQL>
          <FillColor>Green</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Totaal - Pand contouren</Name>
          <SQL>select &#xD;
  st_AsText(   ST_Force3D( ST_ExteriorRing(  p.geom  ))   )&#xD;
from &#xD;
  pand p&#xD;
&#xD;
</SQL>
          <FillColor>#8080FF</FillColor>
          <Outline>true</Outline>
        </Query>
        <Query>
          <Name>Totaal - Pand Extrude 3D</Name>
          <SQL>select &#xD;
  st_AsText(   (st_dump(( st_extrude(ST_ExteriorRing(  p.geom  ), 0, 0, 10   )))).geom    )&#xD;
from &#xD;
  pand p&#xD;
&#xD;
</SQL>
          <FillColor>#FF0080</FillColor>
          <Outline>true</Outline>
        </Query>
        <Query>
          <Name>Pand - LIDAR</Name>
          <SQL>select &#xD;
  st_AsText(m.geom)&#xD;
from &#xD;
  pand p,&#xD;
  ahn_sample m&#xD;
where &#xD;
  p.geom &amp;&amp; m.geom&#xD;
and&#xD;
  st_intersects(p.geom, m.geom)&#xD;
and&#xD;
  identificatie = '1722100000003767'&#xD;
and&#xD;
  classificatie = 6</SQL>
          <FillColor>Red</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Pand - DEM</Name>
          <SQL>select &#xD;
  st_AsText(   (st_dump(ST_DelaunayTriangles(st_collect( m.geom ), 0.5))).geom   )&#xD;
from &#xD;
  pand p,&#xD;
  ahn_sample m&#xD;
where &#xD;
  p.geom &amp;&amp; m.geom&#xD;
and&#xD;
  st_intersects(p.geom, m.geom)&#xD;
and&#xD;
  identificatie = '1722100000003767'&#xD;
and&#xD;
  classificatie = 6</SQL>
          <FillColor>Yellow</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Pand - Extrude 3D</Name>
          <SQL>select &#xD;
  st_astext&#xD;
  (&#xD;
    st_translate&#xD;
    (&#xD;
      (st_dump(&#xD;
      st_tesselate(st_extrude(st_simplify(geom, 0.1), 0::float, 0::float, 5.5::float))&#xD;
      )).geom,     &#xD;
      0,&#xD;
      0,&#xD;
      (&#xD;
        select &#xD;
          (avg(st_z(m.geom)))::float&#xD;
        from &#xD;
          pand p,&#xD;
          ahn_sample m&#xD;
        where &#xD;
          p.geom &amp;&amp; m.geom&#xD;
        and&#xD;
          st_intersects(st_buffer(p.geom, 2), m.geom)&#xD;
        and&#xD;
          identificatie = '1722100000003767' &#xD;
        and&#xD;
          classificatie = 2 limit 1&#xD;
      )&#xD;
    )&#xD;
  )&#xD;
from&#xD;
  pand&#xD;
where &#xD;
  identificatie = '1722100000003767'</SQL>
          <FillColor>Yellow</FillColor>
          <Outline>true</Outline>
        </Query>
        <Query>
          <Name>Pand - Maaiveld #1 (slow)</Name>
          <SQL>select  &#xD;
  st_AsText(   (st_dump(ST_DelaunayTriangles(st_collect( m.geom ), 2))).geom   )&#xD;
from &#xD;
  pand p,&#xD;
  ahn_sample m&#xD;
where &#xD;
  st_intersects(st_buffer(p.geom, 5), m.geom)&#xD;
and&#xD;
  identificatie = '1722100000003767'&#xD;
and&#xD;
  classificatie = 2</SQL>
          <FillColor>#FF8000</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Pand - Maaiveld #2 (fast)</Name>
          <SQL>select  &#xD;
  st_AsText(   (st_dump(ST_DelaunayTriangles(st_collect( m.geom ), 0.1))).geom   )&#xD;
from &#xD;
  ahn_sample m&#xD;
where &#xD;
  st_intersects(&#xD;
    (select st_buffer(geom, 5) from pand where identificatie = '1722100000003767' limit 1), &#xD;
    m.geom&#xD;
  )&#xD;
and&#xD;
  classificatie = 2&#xD;
</SQL>
          <FillColor>#80FF00</FillColor>
          <Outline>false</Outline>
        </Query>
        <Query>
          <Name>Kabel</Name>
          <SQL>select st_astext(st_translate(geom, 0, 0, 5 )) from kabel</SQL>
          <FillColor>Yellow</FillColor>
          <Outline>true</Outline>
        </Query>
        <Query>
          <Name>Maaiveld vs Kabel intersectie</Name>
          <SQL>select  &#xD;
  st_AsText(   &#xD;
  (st_dump(&#xD;
  ST_3DInterSection(&#xD;
  (ST_DelaunayTriangles(st_collect( geom ), 10)),&#xD;
  (select st_translate(geom, 0, 0, 5 ) from kabel))&#xD;
  )).geom&#xD;
  )&#xD;
from &#xD;
  ahn_sample&#xD;
where &#xD;
  classificatie = 2</SQL>
          <FillColor>Red</FillColor>
          <Outline>true</Outline>
        </Query>
      </Queries>
      <PostGISConnection>
        <Name>Localhost</Name>
        <Host>localhost</Host>
        <Database>postgis</Database>
        <Port>5432</Port>
        <Schema>wozbag</Schema>
        <User_id>postgres</User_id>
        <Password>postgres</Password>
      </PostGISConnection>
    </Connection>
  </Connections>
</Project>
